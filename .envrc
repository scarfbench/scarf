# .envrc
export CARGO_HOME="$PWD/.cargo"
export RUSTUP_HOME="$PWD/.rustup"
PATH_add "$CARGO_HOME/bin"
export CARGO_TARGET_DIR="$PWD/target"
export CARGO_INSTALL_ROOT="$CARGO_HOME"

if ! command -v rustup >/dev/null 2>&1; then
  echo "[direnv] installing local rustupâ€¦"
  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs \
    | sh -s -- -y --no-modify-path --default-toolchain stable --profile minimal
fi
