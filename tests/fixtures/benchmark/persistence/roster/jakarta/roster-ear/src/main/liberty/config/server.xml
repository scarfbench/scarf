<?xml version="1.0" encoding="UTF-8"?>
<server description="Roster Application on Open Liberty">

    <featureManager>
        <feature>jakartaee-10.0</feature>
    </featureManager>

    <httpEndpoint id="defaultHttpEndpoint" host="*" httpPort="9080" httpsPort="9443" />

    <basicRegistry id="basic" realm="BasicRealm">
        <user name="admin" password="admin" />
    </basicRegistry>

    <!-- H2 Database DataSource Configuration -->
    <library id="h2Library">
        <fileset dir="${shared.resource.dir}" includes="h2*.jar"/>
    </library>

    <dataSource id="DefaultDataSource" jndiName="jdbc/__default">
        <jdbcDriver libraryRef="h2Library" javax.sql.DataSource="org.h2.jdbcx.JdbcDataSource" />
        <properties url="jdbc:h2:mem:roster" />
    </dataSource>

    <logging logDirectory="${server.output.dir}/logs" />

    <!-- Application configuration -->
    <enterpriseApplication id="roster-ear" location="roster-ear-1.0.0.ear" name="roster-ear">
        <application-bnd>
            <security-role name="**">
                <special-subject type="ALL_AUTHENTICATED_USERS"/>
            </security-role>
        </application-bnd>
    </enterpriseApplication>

</server>
