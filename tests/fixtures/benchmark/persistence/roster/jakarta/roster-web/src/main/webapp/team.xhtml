<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets">
<h:head>
    <meta charset="UTF-8" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0" />
    <title>Roster - Team Management</title>
    <h:outputStylesheet library="css"
                        name="styles.css" />
</h:head>
<h:body>
    <div class="container">
        <h1>Roster Application - Team Management</h1>

        <div class="nav">
            <h:link outcome="player"
                    value="Players"
                    styleClass="nav-link" />
            <h:link outcome="team"
                    value="Teams"
                    styleClass="nav-link" />
            <h:link outcome="league"
                    value="Leagues"
                    styleClass="nav-link" />
        </div>

        <h:messages globalOnly="true"
                    styleClass="messages" />

        <div class="section">
            <h2>Add New Team</h2>
            <h:form id="createTeamForm"
                    styleClass="form">
                <div class="form-group">
                    <h:outputLabel for="teamId"
                                   value="Team ID:" />
                    <h:inputText id="teamId"
                                 value="#{teamBean.newTeamId}"
                                 required="true"
                                 requiredMessage="Team ID is required"
                                 styleClass="form-control" />
                </div>

                <div class="form-group">
                    <h:outputLabel for="teamName"
                                   value="Team Name:" />
                    <h:inputText id="teamName"
                                 value="#{teamBean.newTeamName}"
                                 required="true"
                                 requiredMessage="Team name is required"
                                 styleClass="form-control" />
                </div>

                <div class="form-group">
                    <h:outputLabel for="city"
                                   value="City:" />
                    <h:inputText id="city"
                                 value="#{teamBean.newTeamCity}"
                                 required="true"
                                 requiredMessage="City is required"
                                 styleClass="form-control" />
                </div>

                <div class="form-group">
                    <h:outputLabel for="league"
                                   value="League:" />
                    <h:selectOneMenu id="league"
                                     value="#{teamBean.selectedLeagueId}"
                                     required="true"
                                     requiredMessage="League is required"
                                     styleClass="form-control">
                        <f:selectItem itemLabel="-- Select League --"
                                      itemValue=""
                                      noSelectionOption="true" />
                        <f:selectItems value="#{leagueBean.leagues}"
                                       var="league"
                                       itemValue="#{league.id}"
                                       itemLabel="#{league.name} (#{league.sport})" />
                    </h:selectOneMenu>
                </div>

                <div class="form-actions">
                    <h:commandButton value="Add Team"
                                     action="#{teamBean.createTeam}"
                                     styleClass="btn btn-primary" />
                </div>
            </h:form>
        </div>

        <div class="section">
            <h2>All Teams</h2>
            <h:dataTable value="#{teamBean.teams}"
                         var="team"
                         styleClass="data-table"
                         headerClass="table-header"
                         rowClasses="table-row-odd,table-row-even"
                         rendered="#{not empty teamBean.teams}">
                <h:column>
                    <f:facet name="header">ID</f:facet>
                    #{team.id}
                </h:column>
                <h:column>
                    <f:facet name="header">Name</f:facet>
                    #{team.name}
                </h:column>
                <h:column>
                    <f:facet name="header">City</f:facet>
                    #{team.city}
                </h:column>
            </h:dataTable>

            <p class="no-data"
               rendered="#{empty teamBean.teams}">
                No teams found. Add one using the form above.
            </p>
        </div>
    </div>
</h:body>

</html>