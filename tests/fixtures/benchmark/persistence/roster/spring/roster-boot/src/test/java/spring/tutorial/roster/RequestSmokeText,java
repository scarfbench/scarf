package spring.tutorial.roster;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import spring.tutorial.roster.request.Request;
import spring.tutorial.roster.util.LeagueDetails;
import spring.tutorial.roster.util.TeamDetails;

import static org.junit.jupiter.api.Assertions.assertEquals;

@SpringBootTest
class RequestSmokeTest {

  @Autowired
  Request request;

  @Test
  void roundTrip() {
    request.createLeague(new LeagueDetails("L1","Summer Fun","soccer"));
    request.createTeamInLeague(new TeamDetails("T1","Tigers","Austin"), "L1");
    request.createPlayer("P1","Alice","Forward",100000);
    request.addPlayer("P1","T1");
    assertEquals(1, request.getPlayersOfTeam("T1").size());
  }
}
