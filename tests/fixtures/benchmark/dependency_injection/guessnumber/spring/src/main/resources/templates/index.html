<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
    th:replace="~{template :: layout (~{::title}, ~{::h2}, ~{::section})}">

<head>
    <title>Guess My Number</title>
</head>

<body>
    <h2>Guess My Number</h2>
    <section>
        <form th:action="@{/guess}" th:object="${userNumberBean}" method="post">
            <div style="color: black; font-size: 24px;">
                <p>I'm thinking of a number from
                    <span style="color: blue" th:text="${userNumberBean.minimum}">0</span>
                    to
                    <span style="color: blue" th:text="${userNumberBean.maximum}">100</span>.
                    You have
                    <span style="color: blue" th:text="${userNumberBean.remainingGuesses}">10</span>
                    guesses.
                </p>
            </div>

            <table border="1" style="font-size: 18px;">
                <tr>
                    <td><label for="inputGuess">Number:</label></td>
                    <td>
                        <input type="text" th:field="*{userNumber}" id="inputGuess"
                            th:disabled="${userNumberBean.userNumber == userNumberBean.number or userNumberBean.remainingGuesses <= 0}"
                            size="3" />
                    </td>
                    <td>
                        <button type="submit"
                            th:disabled="${userNumberBean.userNumber == userNumberBean.number or userNumberBean.remainingGuesses <= 0}">
                            Guess
                        </button>
                    </td>
                    <td>
                        <button type="submit" th:formaction="@{/reset}">Reset</button>
                    </td>
                    <td th:if="${userNumberBean.remainingGuesses != 10}"> <!-- this is a hack-->
                        <span
                            th:if="${userNumberBean.userNumber != 0 and userNumberBean.number > userNumberBean.userNumber}"
                            style="color: #d20005;">Higher!</span>
                        <span
                            th:if="${userNumberBean.userNumber != 0 and userNumberBean.number < userNumberBean.userNumber}"
                            style="color: #d20005;">Lower!</span>
                    </td>
                </tr>
            </table>

            <div th:if="${#fields.hasErrors()}" style="color: #d20005; font-size: 14px;">
                <ul>
                    <li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
                </ul>
            </div>
        </form>
    </section>
</body>

</html>