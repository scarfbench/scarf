<?xml version="1.0" encoding="UTF-8"?>
<server description="Open Liberty server">
    <featureManager>
        <feature>jakartaee-10.0</feature>
    </featureManager>

    <httpEndpoint id="defaultHttpEndpoint" host="*" httpPort="9080" httpsPort="9443"/>

    <managedExecutorService id="MES_High" jndiName="MES_High" coreThreads="5" maxThreads="10" keepAliveSeconds="60"/>
    <managedExecutorService id="MES_Low" jndiName="MES_Low" coreThreads="2" maxThreads="4" keepAliveSeconds="60"/>

    <!-- Data source for JPA (persistence.xml uses jta-data-source jdbc/__default) -->
    <!-- Use shared resources so Derby JAR is found (copyDependencies uses ../../shared/resources) -->
    <library id="derbyLib">
        <fileset dir="${server.config.dir}/../../shared/resources" includes="derby*.jar"/>
    </library>
    <dataSource id="RsvpDataSource" jndiName="jdbc/__default">
        <jdbcDriver libraryRef="derbyLib"/>
        <properties.derby.embedded databaseName="rsvp" createDatabase="create"/>
    </dataSource>

    <!-- EJB/ORB requires a user registry -->
    <basicRegistry id="basic">
        <user name="admin" password="adminpwd"/>
    </basicRegistry>

    <application context-root="jaxrs-rsvp-10-SNAPSHOT" location="jaxrs-rsvp-10-SNAPSHOT.war" type="war"/>

</server>
