spring.application.name=counter-service
server.port=8081

## replace h2 with postgres
# --- DataSource (Postgres) ---
spring.datasource.url=jdbc:postgresql://localhost:5432/coffeeshop
spring.datasource.username=coffeeshop
spring.datasource.password=coffeeshop

# --- JPA/Hibernate ---
# dev convenience; switch to 'validate' later
spring.jpa.hibernate.ddl-auto=update   
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.open-in-view=false
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# --- Entity & Repo scanning (if not already in your @SpringBootApplication class) ---
# (You already added these via annotations earlier; leave here commented for reference)
# spring.data.jpa.repositories.enabled=true


## in-memory database for initial testing (replaced with postgres above towards end)
# spring.datasource.url=jdbc:h2:mem:coffeeshop;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
# spring.datasource.driver-class-name=org.h2.Driver
# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.show-sql=true
# spring.h2.console.enabled=true
# spring.h2.console.path=/h2

##debug
logging.level.com.coffeeshop=DEBUG
logging.level.org.springframework.kafka=DEBUG

# --- Kafka connection
spring.kafka.bootstrap-servers=localhost:9092

# Producer defaults
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.acks=all

# Consumer defaults (for the ORDERS_UP listener below)
spring.kafka.consumer.group-id=counter-service
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.listener.ack-mode=record

# If your cluster requires auth/SSL, add those properties here.