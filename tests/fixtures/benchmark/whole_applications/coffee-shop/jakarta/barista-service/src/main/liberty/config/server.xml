<server>
  <featureManager>
    <!-- was: <feature>jakartaee-10.0</feature> -->
    <feature>webProfile-10.0</feature>
    <feature>mpConfig-3.1</feature>
    <feature>mpHealth-4.0</feature>
    <feature>mpOpenAPI-3.1</feature>
    <feature>mpMetrics-5.1</feature>
    <feature>mpRestClient-3.0</feature>
    <feature>mpReactiveMessaging-3.0</feature>
    <feature>mpJwt-2.1</feature>
  </featureManager>

  <httpEndpoint id="defaultHttpEndpoint" host="*" httpPort="9081" httpsPort="9444"/>

   <!-- Minimal user registry to satisfy security-enabled features in dev -->
  <basicRegistry id="basic" realm="defaultRealm">
    <user name="admin" password="adminpwd"/>
  </basicRegistry>

  <!-- JDBC config -->
  <library id="jdbcLib">
    <fileset dir="${server.config.dir}/lib/global/" includes="*.jar"/>
  </library>

  <dataSource id="ordersDS" jndiName="jdbc/ordersDS">
    <jdbcDriver libraryRef="jdbcLib"/>
    <properties databaseName="${env.DB_NAME}" user="${env.DB_USER}" password="${env.DB_PASS}" serverName="${env.DB_HOST}" portNumber="${env.DB_PORT}"/>
  </dataSource>

</server>
