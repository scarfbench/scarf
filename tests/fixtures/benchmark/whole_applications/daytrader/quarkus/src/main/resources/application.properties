# Quarkus Application Configuration
# This replaces web.xml, persistence.xml, and server.xml configurations

# Application name
quarkus.application.name=daytrader

# HTTP port (similar to testServerHttpPort in original)
quarkus.http.port=8080

# ===========================================
# Database Configuration (replaces persistence.xml)
# ===========================================
# Using H2 in-memory database (similar to Derby in original)
quarkus.datasource.db-kind=h2
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.url=jdbc:h2:mem:tradedb;DB_CLOSE_DELAY=-1

# Hibernate ORM configuration
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.dialect=org.hibernate.dialect.H2Dialect

# ===========================================
# REST Configuration
# ===========================================
# Base path for REST APIs (replaces @ApplicationPath("/rest"))
quarkus.rest.path=/rest

# ===========================================
# Trade Application Configuration
# ===========================================
# These replace TradeConfig static values - now externalized
trade.runtime-mode=EJB3
trade.order-processing-mode=SYNCH
trade.max-users=50
trade.max-quotes=100

# Database population on startup (set to false to disable auto-population)
trade.db.populate.on.startup=true

# ===========================================
# Development Mode
# ===========================================
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.log.level=INFO
%dev.quarkus.log.category."com.ibm.websphere.samples.daytrader".level=DEBUG

# ===========================================
# Reactive Messaging Configuration (replaces JMS)
# ===========================================
# MIGRATION NOTES:
# Original Jakarta EE JMS resources:
#   jms/QueueConnectionFactory -> ConnectionFactory for queues
#   jms/TopicConnectionFactory -> ConnectionFactory for topics  
#   jms/TradeBrokerQueue -> Queue for order processing (DTBroker3MDB)
#   jms/TradeStreamerTopic -> Topic for quote updates (DTStreamer3MDB)
#
# Quarkus SmallRye Reactive Messaging:
#   - Uses channels instead of JMS destinations
#   - In-memory connector for dev/test (can switch to Kafka/AMQP in prod)
#   - merge=true allows multiple consumers on same channel

# Trade Broker Queue (for order processing)
# No external connector - use internal in-memory channels
# The @Broadcast annotation on emitter connects to @Incoming consumers

# Trade Streamer Topic (for quote updates)
# No external connector - use internal in-memory channels

